<!DOCTYPE html>
<html lang="en" style="background-color: rgba(0,0,0,0.0); width:100%; height: 100%;">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Growtopia Player Support</title>

  <link rel="icon" type="image/png" href="https://s3.eu-west-1.amazonaws.com/cdn.growtopiagame.com/website/resources/assets/images/growtopia.ico" sizes="16x16"/>
  <link rel="shortcut icon" href="https://s3.eu-west-1.amazonaws.com/cdn.growtopiagame.com/website/resources/assets/images/growtopia.ico" type="image/x-icon">
  <link rel="icon" href="https://s3.eu-west-1.amazonaws.com/cdn.growtopiagame.com/website/resources/assets/images/growtopia.ico" type="image/x-icon">

  <!-- styles -->
  <link media="all" rel="stylesheet" href="https://s3.eu-west-1.amazonaws.com/cdn.growtopiagame.com/website/resources/assets/css/faq-main.css">
  <link media="all" rel="stylesheet" href="https://s3.eu-west-1.amazonaws.com/cdn.growtopiagame.com/website/resources/assets/css/shop-custom.css">
  <link media="all" rel="stylesheet" href="https://s3.eu-west-1.amazonaws.com/cdn.growtopiagame.com/website/resources/assets/css/ingame-custom.css">

  <style>
    .modal-backdrop { background-color: rgba(0,0,0,0.1); }
    .modal-backdrop + div { overflow: auto; }
    .modal-body, .content { padding: 0; }

    .blink-text { color: red; animation: blink 2s ease-in-out infinite; }
    .blink-2 { animation: blank 4s ease-in-out infinite; }

    .disabled-link { cursor: not-allowed !important; }
    a.btn.disabled-link,
    a.btn.disabled-link:hover,
    a.btn.disabled-link:focus,
    a.btn.disabled-link:active,
    a.btn.disabled-link:focus-visible{
      outline: none !important;
      box-shadow: none !important;
    }

    @keyframes blank{
      0%, 50%, 100% { color:white; opacity: 1; }
      25%, 75% { color:white; opacity: 0; }
    }
    @keyframes blink {
      0% { color: red; opacity: 1; }
      50% { color: white; opacity: 1; }
      100% { color: red; opacity: 1; }
    }
  </style>
</head>

<body style="background-color: rgba(0,0,0,0.0);">
<button type="button" class="btn btn-primary hidden" data-toggle="modal" id="modalButton"
        data-target="#modalShow" data-backdrop="static" data-keyboard="false"></button>

<div class="content">
  <section class="common-box">
    <div class="container">
      <div class="row">
        <div class="col-md-12 col-sm-12">
          <div class="row">
            <div class="modal fade product-list-popup" id="modalShow" tabindex="-1" role="dialog" aria-hidden="false">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-body">
                    <div class="content">
                      <section class="common-box">
                        <div class="container">
                          <div class="section-title center-align">
                            <h2 class="blink-text">AJ IMMORTAL <br> <span class="blink-2">#IndoPrideProxy</span></h2>
                            <h5 style="color:white;">Growtopia Version : 5.24</h5>
                          </div>

                          <div class="row div-content-center">
                            <div class="col-md-12 col-sm-12">
                              <!-- GOOGLE: tetap disabled lewat JS -->
                              <a id="googleLogin"
                                 href="https://login.growtopiagame.com/google/redirect?token=eu7D9Z3ok7kvrDCkszn4NnBIDC1S92SfHLaVObAvyBy7Y7qZo49h%2FuqzRXsmDgfrnBi7G6IcodH7v%2FV9IXjb%2BiIl0Cex%2BBCYN59PVeFMs%2BmrqHARgtuZfFSTU48dzEPMzSPxEX7pGTfR9cx8z3yAJAT6tOhRxZaZ1eiUsrhHC5xJcCbbkoWj%2FoWyfwe1V884O5%2FrDl%2FrUXSGmXQj4KlD0QcBtJcH%2BWDyMyP6z%2BkkH6L2fMEIT%2FXMe7C0raUlSutYQ%2FbZE1dc6CFXHTjSUHGq%2BnkxSAHowC8c9MJc%2BBuGU0Vl1tIQvLVxLR0sAUUQQC1NDGWcTAwr36FQZyqvpcE%2FTLJp00Bw7ulJLaz7Ss3Kv%2FkCCgJYjfAo62Pe0cdSd95NRWtdjxe0ddlI6VlDZcoqdDPbKDgyDDnYqjNthMZSLaldjUc%2B4KQAzJ96%2FCAe4vjA1m3uKfCFzJBT3kHDwRwT%2FaIsqlkEigzFiTSSKbXOIJQQMbKFFrkrFlxRhSRw92FL%2B3F%2FS%2BoAg8yqCBzfRWgt8IzDgKFHZ55AGO8ZYv5PuAA%3D"
                                 onclick="optionChose('Google');"
                                 class="btn btn-block" rel="noopener">
                                <img src="https://s3.eu-west-1.amazonaws.com/cdn.growtopiagame.com/website/resources/assets/images/googleid_button.png" alt="Google"/>
                              </a>
                            </div>
                          </div>

                          <div class="row">
                            <!-- <div class="col-md-12 col-sm-12"><div id="or">Legacy users only</div></div> -->
                          </div>

                          <div class="row div-content-center">
                            <div class="col-md-12 col-sm-12">
                              <!-- LEGACY LOGIN: dipaksa same-tab -->
                              <a id="legacyLogin"
                                 href="https://login.growtopiagame.com/player/growid/login?token=eu7D9Z3ok7kvrDCkszn4NnBIDC1S92SfHLaVObAvyBy7Y7qZo49h%2FuqzRXsmDgfrnBi7G6IcodH7v%2FV9IXjb%2BiIl0Cex%2BBCYN59PVeFMs%2BmrqHARgtuZfFSTU48dzEPMzSPxEX7pGTfR9cx8z3yAJAT6tOhRxZaZ1eiUsrhHC5xJcCbbkoWj%2FoWyfwe1V884O5%2FrDl%2FrUXSGmXQj4KlD0QcBtJcH%2BWDyMyP6z%2BkkH6L2fMEIT%2FXMe7C0raUlSutYQ%2FbZE1dc6CFXHTjSUHGq%2BnkxSAHowC8c9MJc%2BBuGU0Vl1tIQvLVxLR0sAUUQQC1NDGWcTAwr36FQZyqvpcE%2FTLJp00Bw7ulJLaz7Ss3Kv%2FkCCgJYjfAo62Pe0cdSd95NRWtdjxe0ddlI6VlDZcoqdDPbKDgyDDnYqjNthMZSLaldjUc%2B4KQAzJ96%2FCAe4vjA1m3uKfCFzJBT3kHDwRwT%2FaIsqlkEigzFiTSSKbXOIJQQMbKFFrkrFlxRhSRw92FL%2B3F%2FS%2BoAg8yqCBzfRWgt8IzDgKFHZ55AGO8ZYv5PuAA%3D"
                                 onclick="optionChose('Grow');"
                                 class="grow-login btn btn-block"
                                 rel="noopener">
                                Growtopia Login
                              </a>
                            </div>
                          </div>
                        </div>
                      </section>
                    </div>

                    <script type="text/javascript">
                      function optionChose(option) {
                        var platform = '{"platform":"'+option+'"}';
                        if (window.onloginselection) window.onloginselection(platform);
                      }
                      function nativeAndroidSignIn(token) {
                        if (window.NativeApp && NativeApp.nativeSignIn) NativeApp.nativeSignIn(token);
                      }
                      function nativeiOSSignIn(token) {
                        if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.nativeSignIn) {
                          window.webkit.messageHandlers.nativeSignIn.postMessage(token);
                        }
                      }
                    </script>

                  </div><!-- /.modal-body -->
                </div><!-- /.modal-content -->
              </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- JS -->
<script src="https://s3.eu-west-1.amazonaws.com/cdn.growtopiagame.com/website/resources/assets/js/jquery-3.7.1.min.js"></script>
<script src="https://s3.eu-west-1.amazonaws.com/cdn.growtopiagame.com/website/resources/assets/js/bootstrap3.min.js"></script>

<script>
  // ====== KONFIG KECIL ======
  const LOGIN_DOMAIN = "https://login.growtopiagame.com/";

  // Cegah double-click spam
  let clicked = false;
  $(document).on('click', 'a', function(){
    if (!clicked) { clicked = true; setTimeout(()=>clicked=false, 1500); return true; }
    $(this).attr('onclick', 'return false;');
    return false;
  });

  $(function () {
    // Tampilkan modal
    $('#modalButton').trigger('click');

    // Tombol close => kembali ke halaman resmi close
    $('.close').on('click', function () {
      window.location.assign("https://login.growtopiagame.com/player/validate/close");
    });

    // Skala konten untuk layar kecil
    const observer = new MutationObserver(function (mutations) {
      mutations.forEach(function (mutation) {
        for (let i = 0; i < mutation.addedNodes.length; i++) {
          const n = mutation.addedNodes[i];
          if (n.tagName === 'DIV' && window.screen.width < 667) {
            $(n).css({
              transform: 'scale(0.75)',
              'transform-origin': '0 0',
              '-webkit-transform': 'scale(0.75)',
              '-webkit-transform-origin': '0 0',
              overflow: 'auto'
            });
          }
        }
      });
    });
    observer.observe(document.body, { childList: true });

    // NONAKTIFKAN login Google
    const $google = $('a[href*="/google/redirect"]');
    $google
      .addClass('disabled-link')
      .attr({
        'aria-disabled':'true',
        'tabindex':'-1',
        'href':'javascript:void(0)',
        'title':'Google login dinonaktifkan'
      })
      .removeAttr('onclick')
      .off('click')
      .on('click', function(e){ e.preventDefault(); e.stopImmediatePropagation(); return false; });

    // Pastikan link legacy login tidak punya target dan paksa same-tab
    const $legacy = $('#legacyLogin');
    $legacy.removeAttr('target').attr('rel','noopener');

    // Intercept SEMUA klik ke domain login.growtopiagame.com -> same tab
    document.addEventListener('click', function(e){
      const a = e.target.closest('a[href]');
      if (!a) return;
      const href = a.getAttribute('href') || '';
      if (href.startsWith(LOGIN_DOMAIN)) {
        e.preventDefault();
        e.stopImmediatePropagation();
        // hilangkan target _blank jika ada
        a.removeAttribute('target');
        // navigasi same-tab
        window.location.assign(href);
      }
    }, true);

    // Cegah window.open untuk domain login.growtopiagame.com (paksa same-tab)
    (function(){
      const origOpen = window.open;
      window.open = function(url){
        if (typeof url === 'string' && url.startsWith(LOGIN_DOMAIN)) {
          window.location.assign(url);
          return null;
        }
        return origOpen.apply(window, arguments);
      };
    })();

    // (Opsional) blokir shortcut devtools — bisa dihapus kalau tidak perlu
    document.onkeydown = (e) => {
      if (e.key === 'F12' || e.keyCode === 123) { e.preventDefault(); }
      if (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'C' || e.key === 'J')) { e.preventDefault(); }
      if (e.ctrlKey && (e.key === 'I' || e.key === 'U')) { e.preventDefault(); }
    };
  });
</script>
</body>
</html>
